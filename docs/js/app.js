webpackJsonp([6],[,,function(e,t,o){"use strict";t.a={googleDocsClientID:"492180740263-j0k8i59otmdmqd94uk5hmrjra7vvr5uh.apps.googleusercontent.com",googleDocsSampleSheetID:"1yl2hajxymROm0E7sNot6N20_vRE0WwhJqlTaJvwE0OU"}},,,function(e,t,o){"use strict";function n(e){return function(){return o(26)("./"+e+".vue")}}function s(e,t,o){var n=!1;void 0!==i.a&&void 0!==i.a.getters&&(n=i.a.getters.isLoggedIn),n?o():o({path:"/login",query:{redirect:e.fullPath}})}function r(e,t,o,n){i.a.commit("SET_PAGE_TITLE",n),o()}var a=o(0),c=o(24),i=o(12);a.a.use(c.a),t.a=new c.a({routes:[{path:"/",component:n("Index"),beforeEnter:s,children:[{path:"/",redirect:"/home"},{path:"home",component:n("Home"),beforeEnter:function(e,t,o){r(e,t,o,"Home")}},{path:"test",component:n("Test"),beforeEnter:function(e,t,o){r(e,t,o,"Test")}}]},{path:"/login",component:n("Login"),beforeEnter:function(e,t,o){r(e,t,o,"Login")}},{path:"/logout",beforeEnter:function(e,t,o){i.a.commit("LOGOUT"),o("/login")}},{path:"*",component:n("Error404")}]})},function(e,t){},,,,function(e,t,o){function n(e){o(19)}var s=o(11)(o(15),o(23),n,null,null);e.exports=s.exports},,function(e,t,o){"use strict";var n=o(0),s=o(3),r=o(13),a=o(2),c=["CREATED","LOADING","LOADED","ERROR"],i={pageTitle:"Default Page Title",dataLoadState:0,lastErrorMessage:"",loadedGoogleSheet:{id:a.a.googleDocsSampleSheetID,accessLevel:"UNKNOWN",sheets:[]}},u={SET_PAGE_TITLE:function(e,t){e.pageTitle="Example Quasar framework to demo using google doc as datasource - "+t},LOGOUT:function(e){r.a.dispatch("DEAUTHENTICATE")},SET_STATE_LOADING:function(e){e.dataLoadState=1},SET_STATE_LOADED:function(e){e.dataLoadState=2},SET_STATE_ERROR:function(e,t){e.lastErrorMessage=t,e.dataLoadState=3},SET_SHEET_ACCESSLEVEL:function(e,t){e.loadedGoogleSheet.accessLevel=t},SET_SHEETS:function(e,t){e.loadedGoogleSheet.sheets=t}},l={isLoggedIn:function(e,t){return r.a.getters.isLoggedIn},loggedInUserInfo:function(e,t){return r.a.getters.userInfo},dataLoadState:function(e,t){return c[e.dataLoadState]},dataLoadStateWithErrorMessage:function(e,t){return 3===e.dataLoadState?c[e.dataLoadState]+" "+e.lastErrorMessage:c[e.dataLoadState]},loadedGoogleSheet:function(e,t){return e.loadedGoogleSheet}},d={LOGIN:function(e,t){e.commit;r.a.dispatch("AUTHENTICATE",t)},LOADAPPDATA:function(e,t){var o=e.commit,n=e.state;o("SET_STATE_LOADING"),r.a.dispatch("GetSheetAccessLevel",{sheetID:n.loadedGoogleSheet.id,callbackFN:function(e,n){"Success"===e?(o("SET_SHEET_ACCESSLEVEL",n.level),o("SET_SHEETS",n.sheets),o("SET_STATE_LOADED"),t(e,"Dataload complete")):(o("SET_STATE_ERROR",n),t(e,n))}})}};n.a.use(s.a),t.a=new s.a.Store({state:i,mutations:u,getters:l,actions:d})},function(e,t,o){"use strict";function n(e){e("SET_ACCESS_TOKEN",""),e("SET_USER_INFO",{})}function s(e,t,o){window.gapi.client.load("https://sheets.googleapis.com/$discovery/rest?version=v4").then(function(){e("SET_ACCESS_TOKEN",t),o("Success","Logged in")})}function r(e){for(var t=16,o="TempSheetNameSSS"+t.toString();0!==e.filter(function(e){return o===e.properties.title}).length;)t++,o="TempSheetNameSSS"+t.toString();return o}function a(e,t,o,n){window.gapi.client.request("https://www.googleapis.com/oauth2/v1/userinfo?alt=json").then(function(t){t.status<200||t.status>299?(console.log(t),n("Error","Couldn't retrieve user info")):(e("SET_USER_INFO",t.result),s(e,o,n))})}var c=o(0),i=o(3),u=o(2),l={googleDocsClientID:u.a.googleDocsClientID,googleDocsScopes:["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/userinfo.profile"],accessToken:"",userInfo:{}},d={SET_ACCESS_TOKEN:function(e,t){e.accessToken=t},SET_USER_INFO:function(e,t){e.userInfo=t}},E={isLoggedIn:function(e,t){return""!==e.accessToken},userInfo:function(e,t){return e.userInfo}},f={AUTHENTICATE:function(e,t){var o=e.commit,s=e.state;n(o);try{window.gapi.auth.authorize({client_id:s.googleDocsClientID,scope:s.googleDocsScopes.join(" "),immediate:!0},function(e){e&&!e.error?a(o,s,e.accessToken,t):window.gapi.auth.authorize({client_id:s.googleDocsClientID,scope:s.googleDocsScopes.join(" "),immediate:!1},function(e){e&&!e.error?a(o,s,e.accessToken,t):t("Error","Not authorized")})})}catch(e){console.log(e),t("Error","Exception")}},DEAUTHENTICATE:function(e){var t=e.commit;e.state;n(t)},GetSheetAccessLevel:function(e,t){var o=(e.commit,e.state,t.sheetID),n=t.callbackFN;window.gapi.client.sheets.spreadsheets.get({spreadsheetId:o,includeGridData:!1,fields:"sheets"}).then(function(e){if(200!==e.status)return void n("Success",{level:"NONE"});var t=e.result.sheets,s=r(t),a=[];a.push({addSheet:{properties:{title:s}}}),window.gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:o,resource:{requests:a}}).then(function(e){if(200!==e.status)return void n("Error",e.status);var r=e.result.replies[0].addSheet.properties.sheetId;a=[],a.push({deleteSheet:{sheetId:r}}),window.gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:o,resource:{requests:a}}).then(function(e){if(200!==e.status)return console.log("GetSheetAccessLevel - created a sheet but failed to delete it - "+s),console.log(e),void n("Error","Unknown API response "+e.result.error.message);n("Success",{level:"READWRITE",sheets:t})},function(e){console.log("GetSheetAccessLevel - created a sheet but failed to delete it - "+s),console.log(e),n("Error","Unknown API exception "+e.result.error.message)})},function(e){if(403===e.status)return void n("Success",{level:"READONLY",sheets:t});console.log("GetSheetAccessLevel - Trying to create sheet"),console.log(e),n("Error","Unknown API exception "+e.result.error.message)})},function(e){console.log("GetSheetAccessLevel - No access exception encountered"),console.log(e),n("Success",{level:"NONE",sheets:[]})})},GetDataRangesFromSheet:function(e,t){var o=(e.commit,e.state,t.sheetID,t.callbackFN);t.ranges;o("Error","GetDataRangesFromSheet - Not implemented")}};c.a.use(i.a),t.a=new i.a.Store({state:l,mutations:d,getters:E,actions:f})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),s=o(1),r=o(5),a=o(9),c=(o.n(a),o(8)),i=(o.n(c),o(7));o.n(i);o(6),n.a.use(s.a),s.a.start(function(){new n.a({el:"#q-app",router:r.a,render:function(e){return e(o(10))}})})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"q-app"}},[o("router-view")],1)},staticRenderFns:[]}},,,function(e,t,o){function n(e){var t=s[e];return t?o.e(t[1]).then(function(){return o(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var s={"./Error404.vue":[29,3],"./Home.vue":[30,2],"./Index.vue":[31,4],"./Login.vue":[32,1],"./Test.vue":[33,0]};n.keys=function(){return Object.keys(s)},e.exports=n,n.id=26}],[14]);